flowchart TB
    Input[(6,987 Survey Questions)]
    
    subgraph Stage1[Stage 1: Independent Classification]
        Claude[Claude Haiku]
        GPT[GPT-4o-mini]
    end
    
    Compare{Models Agree?}
    
    Agree[Use agreed categorization<br/>~89% of questions]
    
    subgraph Stage2[Stage 2: Disagreement Handling]
        Arbitrate[Arbitrator<br/>Claude Sonnet]
    end
    
    subgraph Decisions[Bounded Decisions]
        Pick[Pick Model A or B]
        Dual[Dual-modal]
        Flag[Flag for human review]
    end
    
    Output[(Final Dataset<br/>with confidence tiers)]
    
    Input --> Stage1
    Claude --> Compare
    GPT --> Compare
    Compare -->|Yes ~89%| Agree
    Compare -->|No ~11%| Arbitrate
    Arbitrate --> Decisions
    
    Agree --> Output
    Pick --> Output
    Dual --> Output
    Flag --> Output
    
    style Input fill:#e1f5e1
    style Output fill:#e1f5e1
    style Flag fill:#fff3cd
