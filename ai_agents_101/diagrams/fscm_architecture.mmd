flowchart LR
    Input[(6,987 Survey\nQuestions)]

    subgraph Stage1[Stage 1: Independent Classification]
        Claude[Claude Haiku 4]
        GPT[GPT-5-mini]
    end

    Compare{Models\nAgree?}

    Agree[Agreed\n~89%]

    subgraph Stage2[Stage 2: Disagreement Handling]
        Arbitrate[Arbitrator\nClaude Sonnet 4.5]
    end

    subgraph Decisions[Bounded Decisions]
        Pick[Pick A or B]
        Dual[Dual-modal]
        Flag[Flag for\nhuman review]
    end

    Output[(Final Dataset\nw/ confidence tiers)]

    Input --> Stage1
    Claude --> Compare
    GPT --> Compare
    Compare -->|Yes| Agree
    Compare -->|No ~11%| Arbitrate
    Arbitrate --> Decisions

    Agree --> Output
    Pick --> Output
    Dual --> Output
    Flag --> Output

    style Input fill:#e1f5e1
    style Output fill:#e1f5e1
    style Flag fill:#fff3cd
